## Лабораторная работа №1 "Настройка веб-сервера Nginx"
### Описание
Это первая лабораторная работа по настройке веб-сервера Nginx с поддержкой HTTPS, виртуальных хостов и дополнительными функциями безопасности.

### Цель работы
Научиться настраивать Nginx для обслуживания нескольких веб-приложений с поддержкой HTTPS, виртуальных хостов и изучения основ веб-безопасности.

### Правила по оформлению

Правила по оформлению отчета по лабораторной работе вы можете изучить по [ссылке](../reportdesign.md)

### Ход работы

#### Обычная лабораторная работа

**Настройка Nginx по заданному ТЗ:**

1. **Установка и базовая настройка Nginx:**
   - Установить Nginx на сервер
   - Проверить статус службы и запустить при необходимости
   - Создать базовую структуру директорий для проектов

2. **Настройка SSL-сертификата:**
   - Получить SSL-сертификат (можно использовать Let's Encrypt с certbot)
   - Настроить автоматическое обновление сертификата
   - Проверить корректность установки сертификата

3. **Настройка HTTPS и перенаправления:**
   - Создать конфигурацию для принудительного перенаправления HTTP → HTTPS
   - Настроить обработку запросов на порту 443 с SSL
   - Протестировать работу перенаправления

4. **Настройка виртуальных хостов:**
   - Создать отдельные конфигурационные файлы для каждого домена
   - Настроить server_name для каждого виртуального хоста
   - Указать корневые директории для каждого проекта

5. **Настройка alias и маршрутизации:**
   - Использовать директиву alias для создания псевдонимов путей
   - Настроить location блоки для обработки различных URL-путей
   - Реализовать переопределение путей согласно требованиям проектов

6. **Дополнительные настройки безопасности:**
   - Настроить заголовки безопасности (HSTS, CSP, X-Frame-Options)
   - Ограничить доступ к служебным файлам (.htaccess, .env)
   - Настроить логирование доступа и ошибок

7. **Тестирование конфигурации:**
   - Проверить синтаксис конфигурации: `nginx -t`
   - Перезагрузить Nginx: `systemctl reload nginx`
   - Протестировать доступность обоих проектов по HTTPS

**Результат:** Настроенный веб-сервер должен обслуживать два pet-проекта на одном сервере, доступных по HTTPS. Сервер должен корректно маршрутизировать запросы к нужному проекту и переопределять пути согласно требованиям проектов.

В качестве pet-проектов можно использовать собственные разработки, open-source решения или простой код из нескольких строк.

#### Лабораторная работа со звездочкой

**Тестирование безопасности веб-сервера:**

- Выбрать доступный сайт для тестирования (рекомендуется не очень популярные сайты, например, сайты местных организаций)
- Проверить минимум три уязвимости:
  - Path traversal
  - Перебор страниц через ffuf
  - Любые другие уязвимости на ваш выбор
- Взлом считается успешным при получении доступа к не предназначенным для пользователей разделам сайта

**Важно:** 
- Без DDoS-атак и подбора паролей
- При обнаружении реальной уязвимости связаться с преподавателем
- Цель - изучение влияния неточностей в конфигурации на безопасность

### Результаты лабораторной работы
В результате данной работы у вас должно быть:

- Настроенный Nginx с поддержкой HTTPS и виртуальных хостов
- Два работающих pet-проекта
- Отчет с описанием конфигурации и скриншотами
- (Для работы со звездочкой) Отчет о тестировании безопасности с описанием проверенных уязвимостей

### Полезные ссылки

- [Nginx Documentation](https://nginx.org/ru/docs/)
- [SSL/TLS Configuration](https://nginx.org/ru/docs/http/configuring_https_servers.html)
- [Virtual Hosts](https://nginx.org/ru/docs/http/server_names.html)
- [Security Headers](https://securityheaders.com/)
