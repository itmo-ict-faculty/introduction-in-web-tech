## Лабораторная работа №2 "Docker: хорошие и плохие практики"
### Описание
Это вторая лабораторная работа по изучению лучших и худших практик работы с Docker, включая написание Dockerfile и Docker Compose файлов.

### Цель работы
Изучить распространенные ошибки при работе с Docker, научиться писать качественные Dockerfile и Docker Compose файлы, понять принципы изоляции контейнеров.

### Правила по оформлению

Правила по оформлению отчета по лабораторной работе вы можете изучить по [ссылке](../reportdesign.md)

### Ход работы

#### Обычная лабораторная работа

**Создание "плохого" и "хорошего" Dockerfile:**

1. **Написать "плохой" Dockerfile:**
   - Создать Dockerfile с не менее чем тремя "bad practices"
   - Примеры плохих практик: использование `latest` тегов, запуск от root, копирование всего проекта, отсутствие .dockerignore, неоптимальная структура слоев

2. **Написать "хороший" Dockerfile:**
   - Исправить все плохие практики из первого Dockerfile
   - Использовать конкретные версии базовых образов
   - Создать отдельного пользователя для запуска приложения
   - Оптимизировать структуру слоев и кэширование

3. **Создать README.md с описанием:**
   - Каждой плохой практики в "плохом" Dockerfile
   - Объяснение, почему эта практика плохая
   - Как она была исправлена в "хорошем" Dockerfile
   - Влияние исправления на результат (размер образа, безопасность, производительность)

4. **Описать 2 плохие практики по работе с контейнерами:**
   - Не по написанию Dockerfile, а по работе с уже созданными контейнерами
   - Примеры: запуск с привилегиями root, монтирование чувствительных директорий, отсутствие ограничений ресурсов

#### Лабораторная работа со звездочкой

**Создание "плохого" и "хорошего" Docker Compose файла:**

1. **Написать "плохой" docker-compose.yml:**
   - Создать файл с не менее чем тремя "bad practices"
   - Примеры: отсутствие версий, использование latest тегов, отсутствие ограничений ресурсов, небезопасные переменные окружения

2. **Написать "хороший" docker-compose.yml:**
   - Исправить все плохие практики из первого файла
   - Добавить версионирование, ограничения ресурсов, безопасные настройки

3. **Создать README.md с описанием:**
   - Каждой плохой практики в "плохом" файле
   - Объяснение проблемы и способа исправления
   - Влияние исправлений на результат

4. **Настроить изоляцию контейнеров:**
   - Модифицировать "хороший" docker-compose.yml так, чтобы контейнеры поднимались вместе, но не "видели" друг друга по сети
   - В отчете описать способ достижения изоляции и принцип работы такой изоляции

### Результаты лабораторной работы
В результате данной работы у вас должно быть:

- "Плохой" и "хороший" Dockerfile
- README.md с подробным описанием практик
- (Для работы со звездочкой) "Плохой" и "хороший" docker-compose.yml
- (Для работы со звездочкой) Настроенная изоляция контейнеров
- Отчет по лабораторной работе

### Полезные ссылки

- [Dockerfile Best Practices](https://docs.docker.com/develop/dev-best-practices/)
- [Docker Compose Best Practices](https://docs.docker.com/compose/production/)
- [Docker Security Best Practices](https://docs.docker.com/engine/security/)
- [Container Isolation](https://docs.docker.com/network/)
